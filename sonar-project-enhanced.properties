# SonarQube 配置文件（增强版）

# 项目配置
sonar.projectKey=yyc3-xy-ai
sonar.projectName=YYC³ AI小语智能成长守护系统
sonar.projectVersion=1.0.0

# 代码源位置
sonar.sources=lib,components,app,pages
sonar.tests=__tests__,test

# 排除的文件和目录
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/.next/**,**/from-xy-*/**,**/*.test.ts,**/*.test.tsx,**/__tests__/**,**/test/**
sonar.test.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/.next/**,**/from-xy-*/**

# 语言配置
sonar.javascript.libraries=lib/**/*.ts,components/**/*.tsx,app/**/*.tsx,pages/**/*.tsx
sonar.typescript.libraries=lib/**/*.ts,components/**/*.tsx,app/**/*.tsx,pages/**/*.tsx

# 代码覆盖率配置
sonar.coverage.exclusions=**/*.test.ts,**/*.test.tsx,**/__tests__/**,**/test/**
sonar.javascript.coverage.reportPaths=coverage/lcov.info
sonar.typescript.coverage.reportPaths=coverage/lcov.info

# 代码源编码
sonar.sourceEncoding=UTF-8

# 代码质量规则
sonar.qualitygate.wait=true

# 代码质量阈值
sonar.qualitygate.timeout=300

# 代码复杂度配置
sonar.cpd.js.minimumTokens=50
sonar.cpd.ts.minimumTokens=50
sonar.typescript.squid.maxFileComplexity=200
sonar.typescript.squid.maxFunctionComplexity=20

# 代码质量阈值（自定义）
sonar.issues.multicriteria.e1.ruleKey=typescript:S1135
sonar.issues.multicriteria.e1.severity=BLOCKER
sonar.issues.multicriteria.e2.ruleKey=typescript:S1192
sonar.issues.multicriteria.e2.severity=CRITICAL

# 安全配置
sonar.security.hotspots.enabled=true

# 代码质量报告
sonar.issuesReport.html.enable=true
sonar.issuesReport.json.enable=true
sonar.measuresReport.json.enable=true

# 代码分析配置（TypeScript）
sonar.ts.tslintreportPaths=eslint-report.json
sonar.eslint.reportPaths=eslint-report.json

# 代码分析配置（JavaScript）
sonar.javascript.eslintreportPaths=eslint-report.json

# 代码分析配置（CSS）
sonar.css.stylelintreportPaths=stylelint-report.json

# 代码分析配置（HTML）
sonar.html.htmlhintreportPaths=htmlhint-report.json

# 代码分析配置（性能）
sonar.scm.provider=git
sonar.scm.revision=HEAD

# 代码质量阈值（Quality Gate）
sonar.qualitygate.conditions=metric:coverage,key:threshold,warning:80,op:GE,leak:false,leak:period:1
sonar.qualitygate.conditions=metric:duplicated_lines_density,key:threshold,warning:5,op:LE,leak:false,leak:period:1
sonar.qualitygate.conditions=metric:new_security_rating,key:threshold,warning:1,op:LE,leak:false,leak:period:1
sonar.qualitygate.conditions=metric:new_reliability_rating,key:threshold,warning:1,op:LE,leak:false,leak:period:1
sonar.qualitygate.conditions=metric:new_maintainability_rating,key:threshold,warning:1,op:LE,leak:false,leak:period:1

# 代码质量阈值（自定义规则）
sonar.coverage.minimumLines=80
sonar.coverage.minimumBranches=80
sonar.coverage.minimumFunctions=80
sonar.coverage.minimumStatements=80

# 代码质量阈值（复杂度）
sonar.complexity.maximumFileComplexity=200
sonar.complexity.maximumFunctionComplexity=20

# 代码质量阈值（代码重复）
sonar.duplications.minimumLines=50
sonar.duplications.maximumPercentage=5

# 代码质量阈值（代码大小）
sonar.size.maximumFileLines=1000
sonar.size.maximumDirectoryFiles=50

# 代码质量阈值（代码问题）
sonar.issues.maximumCriticalIssues=0
sonar.issues.maximumMajorIssues=10
sonar.issues.maximumMinorIssues=50

# 代码质量阈值（安全热点）
sonar.security.hotspots.maximumReviewRequired=0

# 代码质量阈值（代码异味）
sonar.codeSmells.maximum=100

# 代码质量阈值（漏洞）
sonar.vulnerabilities.maximum=0

# 代码质量阈值（可靠性问题）
sonar.reliability.maximum=10

# 代码质量阈值（可维护性问题）
sonar.maintainability.maximum=50

# 代码质量阈值（技术债务）
sonar.technicalDebt.hours.maximum=40
sonar.technicalDebt.days.maximum=5

# 代码质量阈值（代码审查）
sonar.reviews.minimum=1
sonar.reviews.maximum=5

# 代码质量阈值（文档覆盖率）
sonar.documentation.minimum=75

# 代码质量阈值（测试覆盖率）
sonar.testCoverage.minimum=80

# 代码质量阈值（代码风格）
sonar.styleCheck.minimum=90

# 代码质量阈值（代码规范）
sonar.compliance.minimum=95

# 代码质量阈值（代码健康）
sonar.health.minimum=85

# 代码质量阈值（代码质量评分）
sonar.qualityScore.minimum=B
sonar.qualityScore.maximum=A

# 代码质量阈值（代码质量等级）
sonar.qualityRating.minimum=B
sonar.qualityRating.maximum=A

# 代码质量阈值（代码质量指标）
sonar.metrics.minimum=80
sonar.metrics.maximum=100

# 代码质量阈值（代码质量分数）
sonar.qualityScore.minimum=80
sonar.qualityScore.maximum=100

# 代码质量阈值（代码质量等级）
sonar.qualityLevel.minimum=Good
sonar.qualityLevel.maximum=Excellent

# 代码质量阈值（代码质量状态）
sonar.qualityStatus.minimum=Passed
sonar.qualityStatus.maximum=Passed

# 代码质量阈值（代码质量检查）
sonar.qualityCheck.minimum=Passed
sonar.qualityCheck.maximum=Passed

# 代码质量阈值（代码质量评估）
sonar.qualityAssessment.minimum=Passed
sonar.qualityAssessment.maximum=Passed

# 代码质量阈值（代码质量验证）
sonar.qualityValidation.minimum=Passed
sonar.qualityValidation.maximum=Passed

# 代码质量阈值（代码质量批准）
sonar.qualityApproval.minimum=Approved
sonar.qualityApproval.maximum=Approved

# 代码质量阈值（代码质量合格）
sonar.qualityCompliance.minimum=Compliant
sonar.qualityCompliance.maximum=Compliant

# 代码质量阈值（代码质量达标）
sonar.qualityStandard.minimum=Met
sonar.qualityStandard.maximum=Met

# 代码质量阈值（代码质量认证）
sonar.qualityCertification.minimum=Certified
sonar.qualityCertification.maximum=Certified

# 代码质量阈值（代码质量认可）
sonar.qualityRecognition.minimum=Recognized
sonar.qualityRecognition.maximum=Recognized

# 代码质量阈值（代码质量确认）
sonar.qualityConfirmation.minimum=Confirmed
sonar.qualityConfirmation.maximum=Confirmed
