# æµ‹è¯•è¦†ç›–ç‡æå‡æ–¹æ¡ˆ

## ğŸ“Š å½“å‰çŠ¶æ€

### æµ‹è¯•æ‰§è¡Œæƒ…å†µ

- **æµ‹è¯•æ€»æ•°**: 389 ä¸ª
- **é€šè¿‡ç‡**: 100% (0 ä¸ªå¤±è´¥)
- **æ–­è¨€æ•°é‡**: 933 ä¸ª expect() è°ƒç”¨
- **æµ‹è¯•æ–‡ä»¶**: 30 ä¸ª
- **æ‰§è¡Œæ—¶é—´**: 828ms

### è¦†ç›–ç‡ç»Ÿè®¡

- **å‡½æ•°è¦†ç›–ç‡**: 28.13% âš ï¸
- **è¡Œè¦†ç›–ç‡**: 35.66% âš ï¸

### ä½è¦†ç›–ç‡æ¨¡å—

| æ–‡ä»¶                     | å‡½æ•°è¦†ç›–ç‡ | è¡Œè¦†ç›–ç‡ | ä¼˜å…ˆçº§ |
| ------------------------ | ---------- | -------- | ------ |
| lib/utils.ts             | 10.81%     | 16.67%   | ğŸ”´ é«˜   |
| lib/character-manager.ts | 45.45%     | 54.66%   | ğŸŸ¡ ä¸­   |

---

## ğŸ¯ è¦†ç›–ç‡ç›®æ ‡

### YYCÂ³ æ ‡å‡†åŒ–è¦æ±‚

#### çŸ­æœŸç›®æ ‡ï¼ˆ1-2å‘¨ï¼‰

- âœ… å‡½æ•°è¦†ç›–ç‡ > 50%
- âœ… è¡Œè¦†ç›–ç‡ > 60%

#### ä¸­æœŸç›®æ ‡ï¼ˆ1-2ä¸ªæœˆï¼‰

- âœ… å‡½æ•°è¦†ç›–ç‡ > 70%
- âœ… è¡Œè¦†ç›–ç‡ > 80%

#### é•¿æœŸç›®æ ‡ï¼ˆ3-6ä¸ªæœˆï¼‰

- âœ… å‡½æ•°è¦†ç›–ç‡ > 80%
- âœ… è¡Œè¦†ç›–ç‡ > 90%

---

## âœ… å·²å®Œæˆçš„æ”¹è¿›

### 1. Jesté…ç½®æ›´æ–°

**æ–‡ä»¶**: `jest.config.js`

**æ”¹è¿›å†…å®¹**:

```javascript
coverageThreshold: {
  global: {
    // YYCÂ³ æ ‡å‡†åŒ–è¦æ±‚
    branches: 40,
    functions: 50,
    lines: 60,
    statements: 60,
  },
  // æ ¸å¿ƒæ¨¡å—éœ€è¦æ›´é«˜è¦†ç›–ç‡
  './lib/utils.ts': {
    branches: 50,
    functions: 60,
    lines: 70,
    statements: 70,
  },
  './lib/character-manager.ts': {
    branches: 60,
    functions: 70,
    lines: 80,
    statements: 80,
  },
}
```

**ä¼˜åŠ¿**:

- âœ… è®¾ç½®äº†è¦†ç›–ç‡é˜ˆå€¼
- âœ… æ ¸å¿ƒæ¨¡å—éœ€è¦æ›´é«˜è¦†ç›–ç‡
- âœ… ä¸è¾¾æ ‡åˆ™æ„å»ºå¤±è´¥

---

### 2. æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå™¨

**è„šæœ¬**: `scripts/generate-tests.js`

**åŠŸèƒ½**:

- è‡ªåŠ¨ç”Ÿæˆ `lib/utils.ts` çš„æµ‹è¯•ç”¨ä¾‹
- è‡ªåŠ¨ç”Ÿæˆ `lib/character-manager.ts` çš„æµ‹è¯•ç”¨ä¾‹
- è¦†ç›–å¸¸è§åŠŸèƒ½ç‚¹å’Œè¾¹ç•Œæƒ…å†µ

**ä½¿ç”¨æ–¹æ³•**:

```bash
node scripts/generate-tests.js
```

---

### 3. CI/CDè´¨é‡é—¨ç¦

**æ–‡ä»¶**: `.github/workflows/test-coverage.yml`

**åŠŸèƒ½**:

- è‡ªåŠ¨è¿è¡Œæµ‹è¯•
- ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
- æ£€æŸ¥è¦†ç›–ç‡é˜ˆå€¼
- ä¸Šä¼ è¦†ç›–ç‡åˆ°Codecov

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### 1. è¿è¡Œæµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå™¨

```bash
cd /Users/yanyu/yyc3-xiaoyu-AAA/yyc3-xy-ai
node scripts/generate-tests.js
```

### 2. è¿è¡Œæµ‹è¯•å¹¶æ£€æŸ¥è¦†ç›–ç‡

```bash
npm test -- --coverage
```

### 3. æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Š

```bash
# æ‰“å¼€è¦†ç›–ç‡æŠ¥å‘Š
open coverage/lcov-report/index.html
```

### 4. ä¿®å¤è¦†ç›–ç‡ä¸è¶³çš„æ¨¡å—

æ ¹æ®è¦†ç›–ç‡æŠ¥å‘Šï¼Œæ‰‹åŠ¨ä¿®å¤è¦†ç›–ç‡ä¸è¶³çš„æ¨¡å—ã€‚

---

## ğŸ“ æ‰‹åŠ¨ä¿®å¤æŒ‡å—

### 1. ä¿®å¤ lib/utils.ts

**å½“å‰è¦†ç›–ç‡**: 10.81% (å‡½æ•°), 16.67% (è¡Œ)

**ç›®æ ‡è¦†ç›–ç‡**: 60% (å‡½æ•°), 70% (è¡Œ)

**æ–¹æ³•**:

1. è¿è¡Œæµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå™¨
2. æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Šï¼Œæ‰¾å‡ºæœªè¦†ç›–çš„å‡½æ•°å’Œè¡Œ
3. ä¸ºæœªè¦†ç›–çš„å‡½æ•°æ·»åŠ æµ‹è¯•ç”¨ä¾‹
4. ä¸ºæœªè¦†ç›–çš„è¡Œæ·»åŠ æµ‹è¯•ç”¨ä¾‹

**ç¤ºä¾‹**:

```typescript
// âŒ æœªè¦†ç›–çš„å‡½æ•°
export function calculateBMI(weight: number, height: number): number {
  return weight / ((height / 100) ** 2);
}

// âœ… æ·»åŠ æµ‹è¯•ç”¨ä¾‹
describe('calculateBMI', () => {
  it('should calculate BMI correctly', () => {
    const bmi = calculateBMI(70, 175);
    expect(bmi).toBeCloseTo(22.86);
  });

  it('should handle zero height', () => {
    expect(() => calculateBMI(70, 0)).toThrow();
  });
});
```

---

### 2. ä¿®å¤ lib/character-manager.ts

**å½“å‰è¦†ç›–ç‡**: 45.45% (å‡½æ•°), 54.66% (è¡Œ)

**ç›®æ ‡è¦†ç›–ç‡**: 70% (å‡½æ•°), 80% (è¡Œ)

**æ–¹æ³•**:

1. è¿è¡Œæµ‹è¯•ç”¨ä¾‹ç”Ÿæˆå™¨
2. æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Šï¼Œæ‰¾å‡ºæœªè¦†ç›–çš„å‡½æ•°å’Œè¡Œï¼ˆ342-836è¡Œï¼‰
3. ä¸ºæœªè¦†ç›–çš„å‡½æ•°æ·»åŠ æµ‹è¯•ç”¨ä¾‹
4. ä¸ºæœªè¦†ç›–çš„è¡Œæ·»åŠ æµ‹è¯•ç”¨ä¾‹

**ç¤ºä¾‹**:

```typescript
// âŒ æœªè¦†ç›–çš„è¡Œï¼ˆ342-836ï¼‰
// è¿™äº›è¡Œå¯èƒ½åŒ…å«é‡è¦çš„ä¸šåŠ¡é€»è¾‘

// âœ… æ·»åŠ æµ‹è¯•ç”¨ä¾‹
describe('é«˜çº§åŠŸèƒ½', () => {
  it('should handle character interaction', () => {
    const character1 = characterManager.createCharacter({
      name: 'è§’è‰²1',
      gender: 'female',
      age: 3,
    });

    const character2 = characterManager.createCharacter({
      name: 'è§’è‰²2',
      gender: 'male',
      age: 4,
    });

    const interaction = characterManager.interact(character1.id, character2.id);
    expect(interaction).toBeDefined();
  });
});
```

---

## ğŸ¯ å®šæœŸå®¡æŸ¥å’Œæ›´æ–°

### æ¯å‘¨ä»»åŠ¡

- [ ] æŸ¥çœ‹è¦†ç›–ç‡æŠ¥å‘Š
- [ ] è¯†åˆ«è¦†ç›–ç‡ä¸‹é™çš„æ¨¡å—
- [ ] ä¿®å¤è¦†ç›–ç‡ä¸è¶³çš„æ¨¡å—
- [ ] æ›´æ–°æµ‹è¯•ç”¨ä¾‹

### æ¯æœˆä»»åŠ¡

- [ ] å®¡æŸ¥è¦†ç›–ç‡ç›®æ ‡
- [ ] è°ƒæ•´è¦†ç›–ç‡é˜ˆå€¼
- [ ] ä¼˜åŒ–æµ‹è¯•ç­–ç•¥
- [ ] æé«˜æµ‹è¯•è´¨é‡

---

## ğŸ“ è”ç³»æ–¹å¼

### é¡¹ç›®ä¿¡æ¯

- **é¡¹ç›®åç§°**: å°è¯­AIæ™ºèƒ½æˆé•¿å®ˆæŠ¤ç³»ç»Ÿ
- **Gitä»“åº“**: <https://github.com/YY-Nexus/yyc3-xyai.git>
- **ç®¡ç†å‘˜é‚®ç®±**: <admin@0379.email>
- **é¡¹ç›®ç‰ˆæœ¬**: v2.0.0

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ã€‚è¯¦ç»†ä¿¡æ¯è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

<div align="center">

**[â¬† å›åˆ°é¡¶éƒ¨](#æµ‹è¯•è¦†ç›–ç‡æå‡æ–¹æ¡ˆ)**

Made with â¤ï¸ by YYCÂ³ Development Team

</div>
